<%- include('partials/header') -%>

    <div class="container" id="users" v-cloak>
        <div class="row">
            <div class="col-12 col-md-6 col-lg-4" v-for="(user,index) in users">
                <div class="d-flex flex-column m-3 bg-light p-3">
                    <div class="d-flex justify-content-between align-items-baseline m-1">
                        <label for="username" >
                            <svg class="bi bi-people-circle" width="2em" height="2em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path d="M13.468 12.37C12.758 11.226 11.195 10 8 10s-4.757 1.225-5.468 2.37A6.987 6.987 0 008 15a6.987 6.987 0 005.468-2.63z"/>
                                <path fill-rule="evenodd" d="M8 9a3 3 0 100-6 3 3 0 000 6z" clip-rule="evenodd"/>
                                <path fill-rule="evenodd" d="M8 1a7 7 0 100 14A7 7 0 008 1zM0 8a8 8 0 1116 0A8 8 0 010 8z" clip-rule="evenodd"/>
                              </svg>
                        </label>
                        <span id="username" >
                            {{user.username}}
                        </span>
                         
                    </div>
    
                    <div class="d-flex justify-content-between m-1">
                        <label for="email">
                            <svg class="bi bi-envelope" width="1.2em" height="1.2em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M14 3H2a1 1 0 00-1 1v8a1 1 0 001 1h12a1 1 0 001-1V4a1 1 0 00-1-1zM2 2a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V4a2 2 0 00-2-2H2z" clip-rule="evenodd"/>
                                <path fill-rule="evenodd" d="M.071 4.243a.5.5 0 01.686-.172L8 8.417l7.243-4.346a.5.5 0 01.514.858L8 9.583.243 4.93a.5.5 0 01-.172-.686z" clip-rule="evenodd"/>
                                <path d="M6.752 8.932l.432-.252-.504-.864-.432.252.504.864zm-6 3.5l6-3.5-.504-.864-6 3.5.504.864zm8.496-3.5l-.432-.252.504-.864.432.252-.504.864zm6 3.5l-6-3.5.504-.864 6 3.5-.504.864z"/>
                            </svg>
                        </label>

                        <span id="email">
                            {{user.email}}
                        </span>
                    </div>
    
                    
                    
                    <div class="d-flex justify-content-between m-1">
                        <label for="tests">
                            Identity: 
                        </label>

                        <span id="tests">
                            {{user.role}}
                        </span>
                    </div>


                    <div class="d-flex justify-content-between m-1">
                        <label for="tests">
                            Tests been taken:
                        </label>

                        <span id="tests">
                            {{user.takenTests.length}}
                        </span>
                    </div>


                    <div class="d-flex justify-content-center">
                        <a class="btn btn-primary responsive-width-20" :href="'/tests?inspectID='+user._id">
                            Inspect
                        </a>
                    </div>
                    
                </div>
                
            </div>


        </div>
    </div>

    <script>
        //get data from render object
        const users = <%- JSON.stringify(data) %>
        //console.log("Response from GET request to /users:\n", users);

        var userApp = new Vue({
            el: "#users",
            data: {
                users : users
            },
            methods: {

            }
        })
    </script>
<%- include('partials/footer') -%>